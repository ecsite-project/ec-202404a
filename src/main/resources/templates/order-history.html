<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head
        th:replace="common/head :: head_fragment(title = '注文内容確認', links = ~{::link})"
>
  <link rel="stylesheet" th:href="@{/css/order-confirm.css}" />
</head>
<body>
<div th:replace="common/header :: header_fragment"></div>

<h1>注文履歴</h1>
<table>
  <thead>
    <tr>
      <th>商品名</th>
      <th>サイズ、価格（税抜き）、数量</th>
      <th>トッピング、価格（税抜き）</th>
      <th>小計</th>
    </tr>
  </thead>
  <tbody>
    <span th:each="order: ${orderList}">
      <tr th:each="orderItem: ${order.orderItemList}">
        <td th:text="${orderItem.item.name}"></td>
        <td th:if="${orderItem.size} == 'S'" th:text="'小盛り ' + ${#numbers.formatInteger(orderItem.item.priceS, 0, 'COMMA')} + '円 ' + ${orderItem.quantity} + '個'"></td>
        <td th:if="${orderItem.size} == 'M'" th:text="'並盛り ' + ${#numbers.formatInteger(orderItem.item.priceM, 0, 'COMMA')} + '円 ' + ${orderItem.quantity} + '個'"></td>
        <td th:if="${orderItem.size} == 'L'"  th:text="'大盛り ' + ${#numbers.formatInteger(orderItem.item.priceL, 0, 'COMMA')} + '円 ' + ${orderItem.quantity} + '個'"></td>
        <td>
          <ul th:each="orderTopping: ${orderItem.orderToppingList}">
            <li th:text="${orderTopping.topping.name} + ${#numbers.formatInteger(orderTopping.topping.price, 0, 'COMMA')} + '円'"></li>
          </ul>
        </td>
        <td th:text="${#numbers.formatInteger(orderItem.calcSubTotalPrice, 0, 'COMMA')} + '円'"></td>
      </tr>
    </span>
  </tbody>
</table>

<div th:replace="common/footer :: footer_fragment"></div>
</body>
</html>
